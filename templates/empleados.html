{% extends "layout.html" %} {% block content %}

<h2 class="mb-4">Gestión de Empleados</h2>

<!-- Formulario para agregar empleado -->
<div class="card shadow-sm mb-4">
  <div class="card-body">
    <h5 class="mb-3">Registrar Nuevo Empleado</h5>

    <form action="/empleados/nuevo" method="POST" class="row g-3">
      <div class="col-md-6">
        <label class="form-label" for="nombre">Nombre</label>
        <input
          id="nombre"
          name="nombre"
          class="form-control"
          required
          placeholder="Nombre completo"
        />
      </div>

      <div class="col-md-6">
        <label class="form-label" for="puesto">Puesto</label>
        <input
          id="puesto"
          name="puesto"
          class="form-control"
          required
          placeholder="Ej: Vendedor, Supervisor"
        />
      </div>

      <div class="col-md-6">
        <label class="form-label" for="telefono">Teléfono</label>
        <input
          id="telefono"
          name="telefono"
          class="form-control"
          placeholder="5551234567"
        />
      </div>

      <div class="col-md-6">
        <label class="form-label" for="correo">Correo</label>
        <input
          id="correo"
          name="correo"
          type="email"
          class="form-control"
          placeholder="correo@ejemplo.com"
        />
      </div>

      <div class="col-md-6">
        <label class="form-label" for="usuario">Usuario</label>
        <input
          id="usuario"
          name="usuario"
          class="form-control"
          required
          placeholder="Nombre de usuario"
        />
      </div>

      <div class="col-md-6">
        <label class="form-label" for="password">Contraseña</label>
        <input
          id="password"
          type="password"
          name="password"
          class="form-control"
          required
          placeholder="Contraseña"
        />
      </div>

      <div class="col-md-6">
        <label for="rol" class="form-label">Rol</label>
        <select id="rol" name="rol" class="form-select" required>
          <option value="vendedor">Vendedor</option>
          <option value="admin">Administrador</option>
        </select>
      </div>

      <div class="col-12">
        <button type="submit" class="btn btn-success w-100">Registrar Empleado</button>
      </div>
    </form>
  </div>
</div>

<!-- Tabla de empleados -->
<div class="card shadow-sm">
  <div class="card-body">
    <h5 class="mb-3">Listado de Empleados</h5>

    <table class="table table-bordered table-striped">
      <thead class="table-primary">
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Puesto</th>
          <th>Teléfono</th>
          <th>Correo</th>
          <th>Rol</th>
          <th>Acciones</th>
        </tr>
      </thead>

      <tbody>
        {% for emp in empleados %}
        <tr>
          <td>{{ emp.idEmpleado }}</td>
          <td>{{ emp.nombre }}</td>
          <td>{{ emp.puesto }}</td>
          <td>{{ emp.telefono }}</td>
          <td>{{ emp.correo }}</td>
          <td>{{ emp.rol }}</td>
          <td>
            <a
              href="/empleados/detalle/{{ emp.idEmpleado }}"
              class="btn btn-warning btn-sm me-1"
            >
              Editar
            </a>
            <a
              href="/empleados/eliminar/{{ emp.idEmpleado }}"
              class="btn btn-danger btn-sm"
              onclick="return confirm('¿Eliminar este empleado?')"
            >
              Eliminar
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
